#include <iostream>
#include <vector>

#ifdef ACTIVE_MAIN
int main() {
    int m, n, k;
    std::cin >> m >> n >> k;

    // Создаем поле символов
    std::vector<std::vector<char>> field(m, std::vector<char>(n, '0'));

    // Читаем и расставляем мины
    for (int i = 0; i < k; i++) {
        int row, col;
        std::cin >> row >> col;
        row--;
        col--;
        field[row][col] = '*';
    }

    // Восемь направлений для проверки соседей
    int dx[] = { -1, -1, -1, 0, 0, 1, 1, 1 };
    int dy[] = { -1, 0, 1, -1, 1, -1, 0, 1 };

    // Заполняем поле числами
    for (int i = 0; i < m; i++) {
        for (int j = 0; j < n; j++) {
            // Если клетка - мина, пропускаем
            if (field[i][j] == '*')
                continue;

            // Считаем мины вокруг
            int count = 0;
            for (int dir = 0; dir < 8; dir++) {
                int ni = i + dx[dir];
                int nj = j + dy[dir];

                if (ni >= 0 && ni < m && nj >= 0 && nj < n)
                    if (field[ni][nj] == '*')
                        count++;
            }

            // Преобразуем число в символ
            if (count > 0)
                field[i][j] = '0' + count;
            // Если count = 0, оставляем '0' (по умолчанию)
        }
    }

    // Вывод
    for (int i = 0; i < m; i++) {
        for (int j = 0; j < n; j++) {
            std::cout << field[i][j];
            if (j < n - 1)
                std::cout << " ";
        }
        std::cout << std::endl;
    }

    return 0;
}
#endif

/*
    Вам необходимо построить поле для игры «Сапёр» по его конфигурации — высоте, ширине и координатам расставленных на нем мин.

    Вкратце напомним правила построения поля для игры «Сапёр»:
    * поле состоит из клеток с минами и пустых клеток;
    * клетки с миной обозначаются символом *;
    * пустые клетки содержат число от 0 до 8 — количество мин на соседних клетках.
    
    В первой строке содержатся три числа:
    * число m от 1 до 100 — количество строк на поле;
    * число n от 1 до 100 — количество столбцов на поле;
    * число k от 0 до mn — количество мин на поле.
    
    В следующих k строках содержатся пары чисел с координатами мин (номерами строки и столбца). Нумерация ведётся с единицы.

    Выведите построенное поле, разделяя строки поля символом \n, а столбцы — пробелом.
*/